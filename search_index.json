[["index.html", "JavaScript for R Book Club Welcome", " JavaScript for R Book Club The R4DS Online Learning Community 2022-06-23 Welcome Welcome to the bookclub! This is a companion for the book JavaScript for R by John Coene (Chapman &amp; Hall/CRC, copyright July 16, 2021, 9780367680633). This companion is available at r4ds.io/js4r. This website is being developed by the R4DS Online Learning Community. Follow along, and join the community to participate. This companion follows the R4DS Online Learning Community Code of Conduct. "],["book-club-meetings.html", "Book club meetings", " Book club meetings Each week, a volunteer will present a chapter from the book (or part of a chapter). This is the best way to learn the material. Presentations will usually consist of a review of the material, a discussion, and/or a demonstration of the principles presented in that chapter. More information about how to present is available in the github repo. Presentations will be recorded, and will be available on the R4DS Online Learning Community YouTube Channel. "],["pace.html", "Pace", " Pace We‚Äôll try to cover 1 chapter/week, but‚Ä¶ ‚Ä¶It‚Äôs ok to split chapters when they feel like too much. We will try to meet every week, but will likely take some breaks for holidays, etc. "],["overview.html", "Chapter 1 Overview", " Chapter 1 Overview Learning objectives: Book-club admin Introductions Repository Set-up for contributors Explain why JavaScript may be a useful tool for an R developer Introduce some JavaScript libraries R packages that use JavaScript JavaScript training material / tutorials "],["rationale.html", "1.1 Rationale", " 1.1 Rationale R &amp; JS have quite different responsibilities Why use JavaScript as an R dev JS might have solved your problem JS can do things that R cannot To improve communication of insights R packages that use JavaScript {rmapshaper} integrates the mapshaper library {plotly} uses plotly {waiter} based on various JS libraries "],["integration-methods.html", "1.2 Methods", " 1.2 Methods Many ways to integrate JS with R Run JS code from R {V8} V8 on CRAN Used by {rmapshaper} V8 is a JavaScript engine (used in Chrome and Node.js) Send data from R to JS, for viewing in the browser {htmlwidgets} htmlwidgets on CRAN Send data from R to JS for viewing in the browser Used to wrap JS visualisation libraries Used by {plotly}, {DT}, {highcharter} Pass data back &amp; forth between R and the browser {shiny} e.g., {waiter} "],["methods-amiss.html", "1.3 Methods Amiss", " 1.3 Methods Amiss Things that aren‚Äôt covered by the book Send data from R to a specific front-end JS framework React See {reactR} ‚Ä¶ and its use in{reactable} Vue See {vueR} Use existing R packages to send data to a JS data visualisation library D3 See {r2d3} "],["some-code.html", "1.4 Some code", " 1.4 Some code Plotly example Run the following Investigate the plot Look at the HTML in DevTools (id=‚Äúhtmlwidget-‚Äù) See where the htmlwidget script is read in suppressPackageStartupMessages({ library(plotly) }) plot_ly( diamonds, x = ~cut, color = ~clarity, type = &quot;histogram&quot;, width = &quot;100%&quot; ) "],["resources.html", "1.5 Resources", " 1.5 Resources Awesome-JavaScript Data visualisation section MDN JavaScript guides / tutorials JavaScript 4 Shiny Field Notes Using htmlwidgets in Rmarkdown "],["meeting-videos.html", "1.6 Meeting Videos", " 1.6 Meeting Videos 1.6.1 Cohort 1 Meeting chat log 00:18:47 Russ Hyde: https://r4ds.io/js4r 00:20:46 Arthur Shaw: https://github.com/r4ds/bookclub-js4r 00:34:26 Ryan Metcalf: https://mermaid-js.github.io/mermaid/#/ 00:34:58 Arthur Shaw: Looks like DiagrammeR does indeed use mermaid.js. Not sure if for all or only part. https://github.com/rich-iannone/DiagrammeR/tree/main/inst/htmlwidgets/lib/mermaid 00:37:01 Ryan Metcalf: Excellent comment Arthur. I was going to post a method of code snippet calling on JS. Maybe sometime soon in our bookdown output. 00:53:15 Ryan Metcalf: My links are scrapped from Twitter‚Ä¶.I&#39;m not as familiar with React as with Node.js. https://nextjs.org/ 00:53:38 LUCIO ENRIQUE CORNEJO RAM√çREZ: is the bidirectional communication only available when using Shiny? Or do other methods to integrate JS and R also allow for such communication? 00:53:42 Ryan Metcalf: https://immerjs.github.io/immer/ 00:53:56 Ryan Metcalf: https://reactjs.org/tutorial/tutorial.html 00:58:20 Ryan Metcalf: Great question Lucio. My gut instinct answer is no. Any JS engine should be available. However, I may be misinterpreting the &quot;WebServer&quot; that Shiny / RStudio use by default. 00:59:12 Ryan Metcalf: As a continuation, I would say, any &quot;WebServer&quot; via: React, Python, R, Ruby, Ruby on Rails, NodeJS, etc.... should provide a similar relationship. 01:00:41 LUCIO ENRIQUE CORNEJO RAM√çREZ: Thanks, Ryan ! 01:01:52 Ryan Metcalf: I&#39;m still forming a method to give better guidance. Stick with me and I&#39;ll likely find a more direct answer. 01:08:08 Rhian: Awesome - thanks Russ 01:08:57 Arthur Shaw: https://ambiorix.dev/ ? 01:13:51 Russ Hyde: Thanks everyone "],["prerequisites.html", "Chapter 2 Prerequisites", " Chapter 2 Prerequisites Learning objectives: Know what you need to know R package development JSON JavaScript Shiny Learn just enough about each topic "],["why-prerequisites-are-requisite.html", "2.1 Why prerequisites are requisite", " 2.1 Why prerequisites are requisite In the last chapter, we were introduced to a few methods for integrating R and JS: Running JS from R Sending data from R to JS, for use in the browser Passing data back and forth between R and the browser In this chapter, we will dive into a few of the prerequisites for exploring these methods in further detail: R package development. If one wants to integrate R and JS code, packages provide a way to share both JS code (or library) and R code for making JS available through R. JSON. If want to share/pass data between R and JS, JSON is the lingua franca. JavaScript. If one wants to work with JS (in the browser), it is good to know some basics: How to see where JS works How variables work How JS interacts with the DOM Shiny. If one wants to use JS in Shiny, one needs to know a few main mechanisms for bringing JS into Shiny apps. "],["r-package-development.html", "2.2 R package development", " 2.2 R package development 2.2.1 How to create packages Create: From the RStudio GUI, File &gt; New Project &gt; New Directory &gt; R Package From the console, usethis::create_package(\"mypackage\") Develop: The very short version: Create content Add scripts/functions usethis::use_r(\"MyScript\") Document Add R dependencies (usethis::use_package(\"SomePackage\")) Write tests usethis::use_test(\"MyScript\") # makes ./tests/testthat/test-MyScript.R Test content interactively, load package and tinker (devtools::load_all()) formally, run tests (devtools::check()) Fix issues Rinse and repeat The longer and more helpful version can be found in ‚ÄúThe Whole Game‚Äù chapter of R Packages. 2.2.2 What constitutes a package 2.2.2.1 Metadata Two main files: DESCRIPTION and NAMESPACE. DESCRIPTION, among other things, provides a list what needs to be installed in order for the package to work (i.e., ‚Äúimports‚Äù). NAMESPACE dictates which functions, of those defined in the package, are made available for use (i.e., ‚Äúexports‚Äù). 2.2.2.2 R code What: functions defined by the package How: write one or more .R script, where each script defines one or more function. Where: in R/ 2.2.2.3 Documentation What: documentation for functions What the function does What the parameters are Details, examples, etc. Where: just above each function definition in the .R scripts in R/. How: When writing functions, use special comments #' and tags (e.g., #' @param) provided by the {roxygen} package When building the package, devtools::document() creates separate documentation files for end users and stores them in man/. 2.2.2.4 Installed files What: In general, files that are downloaded as-is into the top level package directory when the package is installed. For our purposes, JS scripts or libraries. Where: When developing, located in inst/ After installing, located in the root of the package directory. How: Copy files in inst/ Write code to link R and JS. Add the programming language to the SystemRequirements field of DESCRIPTION. See (slightly) more here Examples found in the wild: {echarts4r} wraps echarts.js {reactable} wraps React Table {dataui} wraps data-ui "],["json.html", "2.3 JSON", " 2.3 JSON 2.3.1 Serializing ‚ÄúSerializing‚Äù means converting data to JSON format JSON format is the equivalent of a list in R. See example here {jsonlite} provides a Rosetta stone for translating data bi-directionally between R and JSON: From R to JSON jsonlite::toJSON() From JSON to R jsonlite::fromJSON() 2.3.2 Tablular data How JSON represents a data frame In R, a data frame is a list of columns In JSON, which has no such concept, a data frame is ‚Äútranslated‚Äù as a list of rows, where each row is itself a JSON object. See this nice graphical example. How R handles rectangular data from JSON See code examples below table example. "],["javascript.html", "2.4 JavaScript", " 2.4 JavaScript 2.4.1 Developer tools Pop the hood by inspecting page In browser, see here for Chrome, for example. In RStudio IDE, which is built on Chromium, can use similar tools. Views of interest Elements. Shows the DOM, which could help inspect HTML produced by R (e.g., Shiny app). Console. Much like the R console, shows messages, warnings, and errors, which could be helpful in understanding and debugging issues. 2.4.2 How JS variables differ from R Declaration Can declare variable without assigning a value Can declare variables in three ways: var. Define a variable of global scope. let. Define a variable of restricted scope. const. Define a variable whose value cannot be changed. Scope What is scope. In effect, the accessibility of an object. Which scopes in JS; how compare to R. Global. Like objects in R‚Äôs global environment. Function. Like variables inside an R function. Block. No direct R equivalent. Accessible within a block between { }. See more here. 2.4.3 Document Object Model (DOM) What is the DOM Description of an HTML page as a tree of the elements and attributes that comprise the page. Elements are characterized by one or more of: ID Tag Class(es) Etc See visual explanation here. How JS interacts with the DOM Select/query by: ID Tag Class Change content and/or attributes of the element See nice summary here. "],["shiny.html", "2.5 Shiny", " 2.5 Shiny Two ways to import JS dependences in Shiny: Serving files (e.g., JS script) Using {htmltools} 2.5.1 Serving static files Types of static files Images CSS stylesheets JS scripts How to serve files to Shiny Option 1: when shiny::runApp is run, load everything in www/ directory. Option 2: specify path via shiny::addResourcePath and load those resources. How to use shiny::addResourcePath Parameters directoryPath. Where in file system to find file(s). prefix. Where in URL to make file(s) available. Placement In raw HTML, inside the &lt;head&gt;, with a &lt;script&gt; tag that points to the source file. In Shiny, in a special place in the ui. Inside same tags as in raw HTML Inside singleton so that the files are served only once. Best practices organizing static files Unspoken recommendations; not hard rules Single folder to contain the collections of files (e.g., assets/, static/) Subfolder for each type of file (e.g., CSS, JS, image, etc.) 2.5.2 htmltools What does htmltools do? Prosaically, helps create HTML tags More importantly for our purposes, helps with importing and managing external dependences How does htmltools help manage dependencies? Provides an R interface. Creates a dependency object that R resolves as an actual HTML dependency. Points to a dependence in a package directory. If a package is the source of a dependency, can construct a relative path to package library‚Äôs inst/, where dependency lives. Where to place htmltools in R scripts? In Shiny, in the UI. Similar to serving files, but simpler. In RMarkdown, in an evaluated code chuck. "],["serving-files-v.-htmltools.html", "2.6 Serving files v. htmltools", " 2.6 Serving files v. htmltools Why prefer htmltools? Available in both Shiny and RMarkdown, while serving files only works for Shiny. Allows one to assess a package‚Äôs dependencies, which helps in cases where dependencies of two packages may conflict. Why use shiny::addResourcePath? Certainly, useful for loading JS and CSS. But also useful for other file types that an app may need, such as images or JSON data. "],["meeting-videos-1.html", "2.7 Meeting Videos", " 2.7 Meeting Videos 2.7.1 Cohort 1 Meeting chat log 00:26:37 Russ Hyde: Do javascript libraries have a defined structure, like R packages, or are they more freeform? 00:32:37 Russ Hyde: https://cran.r-project.org/web/packages/tidyjson/vignettes/introduction-to-tidyjson.html 00:44:15 Ryan Metcalf: I&#39;ve watched this video multiple times and IMHO does a great job of working through API calls and/or uses `jsonlite()` to manipulate to a dataframe. https://youtu.be/tlaJf0CHbFE 01:15:59 Ryan S: sorry, need to drop off. but thanks to all for the effort and to Arthur for preparation! "],["introduction-to-widgets.html", "Chapter 3 Introduction to Widgets", " Chapter 3 Introduction to Widgets Learning objectives: Review alternative packages for interaction between JavaScript and R. Dive into using {plotly} for graphics. Expand on using {DT} for Data Tables. Understand what {crosstalk} is and how to deploy it to {shiny}. {htmlwidgets} is a succsseor to {rCharts}. HTML Widgets can be: Used at the R console for data analysis just like conventional R plots. Embedded within R Markdown documents Incorporated into Shiny web applications. Saved as standalone web pages for ad-hoc sharing via email, Dropbox, etc. (My personal favorite!!!) There are currently 127 registered widgets on gallery.htmlwidgets.org "],["plotly-package.html", "3.1 Plotly Package", " 3.1 Plotly Package Often, the first graphing example a new user experiences is found in R for Data Science by Hadley Wickham and Garrett Grolemund. In this example, the author describes the grammer of graphics and the {ggplot2} package. library(ggplot2) ggplot(data = mpg) + geom_point(mapping = aes(x = displ, y = hwy)) Technically, there is nothing wrong with a static image and no interaction. As long as you convey your intent, your job is done. Or is it? However, is {ggplot} our only graphic utilty/package/service? Certainly NO! Let‚Äôs discuss plotly. The author comments ‚Äú(plotly)‚Ä¶has been downloaded from CRAN 4.9 million times at the time of writing this.‚Äù I wanted to double check or update the stats. Using DataScienceMeta, the site lists plotly has been downloaded 10,129,165 and is the 179th most popular downloaded (out of 18,641)! library(plotly) plot_ly(cars, x = ~speed, y = ~dist) %&gt;% add_markers() Citation: JavaScript for R by John Coene, Chapter 3, figure 3.1 Wrap existing ggplot graphics with ggplotly, making them interactive Initialize the chart with plot_ly Key differences between ggplot and plotly: - ggplot uses + to add layers - this isn‚Äôt horrible but doesn‚Äôt lend itself to symatics and often feels like a speedbump while authoring - plotly recognizes the {magrittr} pipe %&gt;% operator. If using this syntax for authoring, your script text flows easier. To achieve this layering in Plotly, we use the add_ prefix. library(magrittr) library(plotly) plot_ly(mtcars, x = ~disp) %&gt;% add_markers(y = ~mpg, text = rownames(mtcars)) %&gt;% add_lines(y = ~fitted(loess(mpg ~ disp))) Citation: JavaScript for R by John Coene, Chapter 3, figure 3.3 "],["dt-package.html", "3.2 DT Package", " 3.2 DT Package The {DT} package provides an R Interface to the jQuery JavaScript Library DataTables. (Not to be confused or remotely the same as Data.Tables). Unique characteristics of DataTables versus HTML tables alone are: Pagination Instant Search Multi-column ordering Use almost any datasource Easily Theme-able Wide Variety of extensions The following is a one-line snippet example of producing an interactivec DataTable. library(DT) DT::datatable(cars) Citation: JavaScript for R by John Coene, Chapter 3, figure 3.4 "],["crosstalk.html", "3.3 Crosstalk", " 3.3 Crosstalk Crosstalk is a an add-on to the {htmlwidgets} package providing cross-widget interactions. Specifically supported at this time are: linked brushing filtering A couple limitations to using Crosstalk: HTML widgets must be specifically modified by their authors. Crosstalk currently only works for linked brushing and filtering of views that show individual data points, not aggregate or summary views. Crosstalk is not appropriate for large data sets. Cross talk uses a shared R6 class to wrap existing dataframes. library(crosstalk) library(d3scatter) shared_iris &lt;- SharedData$new(iris) bscols( d3scatter(shared_iris, ~Petal.Length, ~Petal.Width, ~Species, width=&quot;100%&quot;, height=300), d3scatter(shared_iris, ~Sepal.Length, ~Sepal.Width, ~Species, width=&quot;100%&quot;, height=300) ) Citation: Using Crosstalk shared_mtcars &lt;- SharedData$new(mtcars) bscols(widths = c(3,NA,NA), list( filter_checkbox(&quot;cyl&quot;, &quot;Cylinders&quot;, shared_mtcars, ~cyl, inline = TRUE), filter_slider(&quot;hp&quot;, &quot;Horsepower&quot;, shared_mtcars, ~hp, width = &quot;100%&quot;), filter_select(&quot;auto&quot;, &quot;Automatic&quot;, shared_mtcars, ~ifelse(am == 0, &quot;Yes&quot;, &quot;No&quot;)) ), d3scatter(shared_mtcars, ~wt, ~mpg, ~factor(cyl), width=&quot;100%&quot;, height=250), d3scatter(shared_mtcars, ~hp, ~qsec, ~factor(cyl), width=&quot;100%&quot;, height=250) ) Cylinders 4 6 8 Horsepower Automatic Citation: Using Crosstalk "],["wrap-up.html", "3.4 Wrap-Up", " 3.4 Wrap-Up The following link provides additional {crosstalk} compatible services. Any Questions? "],["meeting-videos-2.html", "3.5 Meeting Videos", " 3.5 Meeting Videos 3.5.1 Cohort 1 Meeting chat log 00:07:40 russ: Hi everyone 00:18:14 russ: http://gallery.htmlwidgets.org/ 00:18:19 russ: http://www.datasciencemeta.com/ 00:22:15 russ: There&#39;s a whole book about {plotly} - https://plotly-r.com/index.html 00:34:24 Arthur Shaw: For reference, here&#39;s {reactable}: https://glin.github.io/reactable/index.html 01:04:31 russ: https://rstudio.github.io/crosstalk/widgets.html 01:04:54 Arthur Shaw: {reactable} working with {crosstalk}: https://glin.github.io/reactable/articles/examples.html#cross-widget-interactions 01:04:57 russ: There is a statement at the top of the compatible widgets page: &quot;To add a widget, please submit a PR with modifications to this page.&quot; "],["basics-of-building-widgets.html", "Chapter 4 Basics of Building Widgets", " Chapter 4 Basics of Building Widgets Learning objectives: Explore how to use JS visualisation libraries from .HTML pages Discuss the details (data / dependencies / context) needed by a typical JS library Summarise how htmlwidgets ensures these details are in place "],["read-and-study.html", "4.1 Read and Study", " 4.1 Read and Study So, you have found a front-end JS library you want to use from R Now: Learn how to use that library from JS/HTML first USE IT! Work through a tutorial INSTALL IT! Analyse it‚Äôs dependencies / installation process SEE HOW OTHERS USE IT! Study the examples Hopefully: consistent syntax STUDY IT! Look at the API USE IT AGAIN! Code up some of your use-cases using mock data, but in JS/HTML Can you improve the API for your use-case? "],["candidate-libraries.html", "4.2 Candidate Libraries", " 4.2 Candidate Libraries Here we work out how to use some JS visualisation libraries in their natural setting: as part of an .html page. The files have been rewritten slightly, to emphasise similarities / differences between the libraries. 4.2.1 HTML / DOM recap &lt;!‚Äì‚Äì index.html - Modified from Chapter 2 ‚Äì‚Äì&gt; &lt;html&gt; &lt;head&gt; &lt;!-- Nondisplayed content goes here: - Metadata (title / character encoding) - _Some_ dependency loading (stylesheet / library) --&gt; &lt;/head&gt; &lt;body&gt; &lt;!-- Displayed content goes here --&gt; &lt;p id=&quot;content&quot;&gt;Trying JavaScript!&lt;/p&gt; &lt;script&gt; var cnt = document.getElementById(&quot;content&quot;); cnt.innerText = &quot;The text has changed&quot;; &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; Library loading Book examples load libraries from .html-adjacent location: &lt;head&gt; &lt;!-- Import library --&gt; &lt;script src=&quot;highcharts.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; Here, we access the libraries from CDN (Content Delivery Network) &lt;head&gt; &lt;!-- Import library --&gt; &lt;script src=&quot;https://code.highcharts.com/highcharts.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; 4.2.2 Plotly.js &lt;!-- Source: &quot;Javascript For R&quot; John Coene, Chapter 4 --&gt; &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; lang=&quot;&quot; xml:lang=&quot;&quot;&gt; &lt;head&gt; &lt;!-- Import library --&gt; &lt;script src=&quot;https://cdn.plot.ly/plotly-2.12.1.min.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;p&gt;Plotly.js&lt;/p&gt; &lt;!-- div to hold visualisation --&gt; &lt;div id=&quot;chart&quot; style=&quot;width:600px;height:400px;&quot;&gt;&lt;/div&gt; &lt;!-- Script to create visualisation --&gt; &lt;script&gt; el = document.getElementById(&#39;chart&#39;); var rawData = { x: [1, 2, 3, 4, 5], y: [1, 2, 4, 8, 16] }; var plotData = [rawData]; Plotly.newPlot(el, plotData); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; 4.2.3 Highcharts.js &lt;!-- Source: &quot;Javascript For R&quot; John Coene, Chapter 4 --&gt; &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; lang=&quot;&quot; xml:lang=&quot;&quot;&gt; &lt;head&gt; &lt;!-- Import library --&gt; &lt;script src=&quot;https://code.highcharts.com/highcharts.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;p&gt;Highcharts.js&lt;/p&gt; &lt;!-- div to hold visualisation --&gt; &lt;div id=&quot;chart&quot; style=&quot;width:100%;height:400px;&quot;&gt;&lt;/div&gt; &lt;!-- Script to create visualisation --&gt; &lt;script&gt; var rawData = { categories: [&#39;Apples&#39;, &#39;Bananas&#39;, &#39;Oranges&#39;], series: [{ name: &#39;Jane&#39;, data: [1, 0, 4] }, { name: &#39;John&#39;, data: [5, 7, 3] }] }; var plotData = { xAxis: {categories: rawData.categories}, series: rawData.series }; var myChart = Highcharts.chart(&#39;chart&#39;, plotData); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; 4.2.4 Chart.js &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; lang=&quot;&quot; xml:lang=&quot;&quot;&gt; &lt;head&gt; &lt;!-- Import library --&gt; &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/chart.min.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;!-- canvas to hold visualisation --&gt; &lt;canvas id=&quot;chart&quot;&gt;&lt;/canvas&gt; &lt;!-- Script to create visualisation --&gt; &lt;script&gt; var el = document.getElementById(&#39;chart&#39;).getContext(&#39;2d&#39;); var rawData = { labels: [ &#39;Red&#39;, &#39;Blue&#39;, &#39;Yellow&#39;, &#39;Green&#39;, &#39;Purple&#39;, &#39;Orange&#39; ], datasets: [{ label: &#39;# of Votes&#39;, data: [12, 19, 3, 5, 2, 3] }] }; var plotData = { type: &#39;bar&#39;, data: rawData }; var myChart = new Chart(el, plotData); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; "],["compare-and-contrast.html", "4.3 Compare and Contrast", " 4.3 Compare and Contrast Where is the plot placed? ‚Äòcanvas‚Äô vs ‚Äòdiv‚Äô How does the plotting library know where to put the plot? PlottingLibrary.function(x, options) Is x an element or the element‚Äôs ID? How is the plot configured? Is the plotData an array or object? Do we call a specific function for a particular plot type, or pass an option From an R perspective: Could we readily convert a data-frame to the rawData JSON? How much of the JS API should the R user be aware of? &lt;!-- Typical structure, based on the above --&gt; &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; lang=&quot;&quot; xml:lang=&quot;&quot;&gt; &lt;head&gt; &lt;!-- Import library --&gt; &lt;script src=&quot;https://blah.blah/mycharts.min.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;!-- element to hold visualisation --&gt; &lt;elementType id=&quot;chart&quot; style=&quot;width:100%;height:400px;&quot;&gt;&lt;/elementType&gt; &lt;!-- Script to create visualisation --&gt; &lt;script&gt; var rawData = { // JSON-like data } var plotData = { // all options required to make the plot }; var myChart = Mycharts.someFunction(elementOrID, plotData); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; "],["how-it-works.html", "4.4 How it works", " 4.4 How it works How would you write a package that calls ‚ÄúSuperCharts.js‚Äù if htmlwidgets didn‚Äôt exist? Create the HTML document Import the external libraries Add HTML element to hold visualisation Convert R-data to JSON and embed it in the HTML Append JS code to transfer data/element to library (and seemlessly work with other R/HTML/JS/CSS tools - RMarkdown / Shiny etc) Link to figure "],["summary.html", "4.5 Summary", " 4.5 Summary We studied the problem that htmlwidgets aims to solve And looked at how JS libraries are used within .html pages "],["meeting-videos-3.html", "4.6 Meeting Videos", " 4.6 Meeting Videos 4.6.1 Cohort 1 Meeting chat log 00:30:44 Ryan Metcalf: Adding reference to new element type: https://www.w3schools.com/html/html5_canvas.asp 00:31:04 LUCIO ENRIQUE CORNEJO RAM√çREZ: are there any advantages to adding the chart in a canvas element? Compared to Plotly, which adds the graphs in a div element 00:32:08 Ryan Metcalf: On the surface, I presume no. However, given GPU access, the Canvas Element may utilized more optimal rendering versus a Div that would use the CPU instead. 00:32:10 Ryan Metcalf: Just a thought. 00:34:30 Ryan Metcalf: StackOverflow is usually not the greatest reference point...but does provide some additional content to extend to other resources: https://stackoverflow.com/questions/5882716/html5-canvas-vs-svg-vs-div 00:34:43 Ryan Metcalf: Great question Lucio! 00:35:52 LUCIO ENRIQUE CORNEJO RAM√çREZ: Thanks for the answer :) 00:36:37 Ryan Metcalf: (Russ to expand to answer Lucio!!! üôÇ) 00:37:07 Ryan S: I&#39;m familiar with html &lt;div&gt; elements, but not so much &lt;canvas&gt;. Is &lt;canvas&gt; just a lesser-known html element? 00:37:56 Ryan Metcalf: Newer supported tag. Released in 2004 by Apple. 00:38:16 Ryan S: üëç 00:38:26 Ryan Metcalf: Again, likely not the greatest reference....extending the topic: https://medium.com/@AmyScript/introduction-to-html5-canvas-8c1bad20e855#:~:text=The%20canvas%20element%20was,to%20draw%20graphics%20utilizing%20JavaScript. 00:42:16 Arthur Shaw: On CSS, here&#39;s the canonical meme that make&#39;s Russ&#39; point: http://gif-central.blogspot.com/2013/07/family-guy-css.html 00:43:32 Ryan S: LOL.... I can think of a dozen other subjects that gif applies to as well. 00:57:57 LUCIO ENRIQUE CORNEJO RAM√çREZ: thanks! "],["your-first-widget.html", "Chapter 5 Your First Widget", " Chapter 5 Your First Widget Learning objectives: How to build a minimal widget How each widget component works "],["scaffold-in-2-lines-of-code.html", "5.1 Scaffold in 2 lines of code", " 5.1 Scaffold in 2 lines of code Two lines of code: # 1 - Create a package (template) usethis::create_package(path = &quot;path/to/my.package&quot;) # 2 - Create a widget (scaffold) htmlwidgets::scaffoldWidget(name = &quot;my_widget&quot;) Line 1, obviously, creates a package Line 2, as the function name suggests, creates the scaffolding for a widget‚Äìthat is the minimum files for defining a JS widget: my_widget.R. Functions in R that capture user parameters and pass them to JS. my_widget.js. Functions in JS, using content/parameters passed from R functions. my_widget.yaml JS dependencies, meaning the JS library the widget wraps as well as any libraries upon which that library depends. "],["r-functions.html", "5.2 R functions", " 5.2 R functions 5.2.1 Overview The R script created by htmlwidgets::scaffoldWidget(), my_widget.R contains three functions: my_widget. Binds together R and JS by: collecting R parameters (for JS) in a list x creating a widget that accesses x my_widgetOutput. Defines an *Output() function for Shiny. renderMy_widget. Defines a `render*()`` function for Shiny. #&#39; &lt;Add Title&gt; #&#39; #&#39; &lt;Add Description&gt; #&#39; #&#39; @import htmlwidgets #&#39; #&#39; @export my_widget &lt;- function(message, width = NULL, height = NULL, elementId = NULL) { # forward options using x x = list( message = message ) # create widget htmlwidgets::createWidget( name = &#39;my_widget&#39;, x, width = width, height = height, package = &#39;my.package&#39;, elementId = elementId ) } #&#39; Shiny bindings for my_widget #&#39; #&#39; Output and render functions for using my_widget within Shiny #&#39; applications and interactive Rmd documents. #&#39; #&#39; @param outputId output variable to read from #&#39; @param width,height Must be a valid CSS unit (like \\code{&#39;100\\%&#39;}, #&#39; \\code{&#39;400px&#39;}, \\code{&#39;auto&#39;}) or a number, which will be coerced to a #&#39; string and have \\code{&#39;px&#39;} appended. #&#39; @param expr An expression that generates a my_widget #&#39; @param env The environment in which to evaluate \\code{expr}. #&#39; @param quoted Is \\code{expr} a quoted expression (with \\code{quote()})? This #&#39; is useful if you want to save an expression in a variable. #&#39; #&#39; @name my_widget-shiny #&#39; #&#39; @export my_widgetOutput &lt;- function(outputId, width = &#39;100%&#39;, height = &#39;400px&#39;){ htmlwidgets::shinyWidgetOutput(outputId, &#39;my_widget&#39;, width, height, package = &#39;my.package&#39;) } #&#39; @rdname my_widget-shiny #&#39; @export renderMy_widget &lt;- function(expr, env = parent.frame(), quoted = FALSE) { if (!quoted) { expr &lt;- substitute(expr) } # force quoted htmlwidgets::shinyRenderWidget(expr, my_widgetOutput, env, quoted = TRUE) } 5.2.2 Output Create some output in this way: # create documentation (optionally) devtools::document() # while package project, load the package devtools::load_all() # create some output by passing a character from my_widget(message = &quot;Hello!&quot;) 5.2.2.1 &lt;div&gt; 5.2.2.2 &lt;head&gt; 5.2.2.3 &lt;script&gt; "],["js-function.html", "5.3 JS function", " 5.3 JS function 5.3.1 Overview HTMLWidgets.widget({ name: &#39;my_widget&#39;, type: &#39;output&#39;, factory: function(el, width, height) { // TODO: define shared variables for this instance return { renderValue: function(x) { // TODO: code to render the widget, e.g. el.innerText = x.message; }, resize: function(width, height) { // TODO: code to re-render the widget with a new size } }; } }); 5.3.2 Output 5.3.2.1 How What you put in the element is what you see. The section will follow this recipe: Change JS function, specifying what to put in element Reload package via devtools::load_all() Execute with my_widget() with appropriate parameter(s) 5.3.2.2 What Object itself: console.log(x) Text: innerText HTML of element: innerHTML Style of element style.* "],["js-dependencies.html", "5.4 JS dependencies", " 5.4 JS dependencies # (uncomment to add a dependency) # dependencies: # - name: # version: # src: # script: # stylesheet: "],["resources-1.html", "5.5 Resources", " 5.5 Resources For other treatments of creating a widget with {htmlwidgets}, see package vignette here. overview and worked example in js4shiny workshop materials here For a deeper dive into JS for R users, see JavaScript for Shiny users rstudio::conf(2020) workshop materials js4shiny package, which offers a REPL "],["meeting-videos-4.html", "5.6 Meeting Videos", " 5.6 Meeting Videos 5.6.1 Cohort 1 Meeting chat log 00:11:46 russ: Hi everyone 00:15:33 russ: We&#39;re having a live demo 00:53:14 russ: Ah. There&#39;s a neat step-through example in the shiny tutorials here: https://shiny.rstudio.com/articles/js-build-widget.html 00:53:52 russ: In the shiny server side, you do `renderMyWidget(MyWidget(data))` 01:02:56 russ: Ah! The &quot;data-for&quot; attribute seems to be a htmlwidgets-specific thing. If you look in the source code for htmlwidgets.js , how it is handled is described in there 01:08:19 russ: There&#39;s also a nice chapter about htmlwidgets in the Rmarkdown guide: https://bookdown.org/yihui/rmarkdown/html-widgets.html 01:13:24 LUCIO ENRIQUE CORNEJO RAM REZ: thanks everyone, bye 01:13:29 russ: THanks everyone "],["a-realistic-widget.html", "Chapter 6 A Realistic Widget", " Chapter 6 A Realistic Widget Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1.html", "6.1 SLIDE 1", " 6.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-5.html", "6.2 Meeting Videos", " 6.2 Meeting Videos 6.2.1 Cohort 1 Meeting chat log LOG "],["the-full-monty.html", "Chapter 7 The Full Monty", " Chapter 7 The Full Monty Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-1.html", "7.1 SLIDE 1", " 7.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-6.html", "7.2 Meeting Videos", " 7.2 Meeting Videos 7.2.1 Cohort 1 Meeting chat log LOG "],["advanced-topics.html", "Chapter 8 Advanced Topics", " Chapter 8 Advanced Topics Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-2.html", "8.1 SLIDE 1", " 8.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-7.html", "8.2 Meeting Videos", " 8.2 Meeting Videos 8.2.1 Cohort 1 Meeting chat log LOG "],["linking-widgets.html", "Chapter 9 Linking Widgets", " Chapter 9 Linking Widgets Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-3.html", "9.1 SLIDE 1", " 9.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-8.html", "9.2 Meeting Videos", " 9.2 Meeting Videos 9.2.1 Cohort 1 Meeting chat log LOG "],["final-revisions.html", "Chapter 10 Final Revisions", " Chapter 10 Final Revisions Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-4.html", "10.1 SLIDE 1", " 10.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-9.html", "10.2 Meeting Videos", " 10.2 Meeting Videos 10.2.1 Cohort 1 Meeting chat log LOG "],["bidirectional-communication.html", "Chapter 11 Bidirectional Communication", " Chapter 11 Bidirectional Communication Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-5.html", "11.1 SLIDE 1", " 11.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-10.html", "11.2 Meeting Videos", " 11.2 Meeting Videos 11.2.1 Cohort 1 Meeting chat log LOG "],["a-complete-integration.html", "Chapter 12 A Complete Integration", " Chapter 12 A Complete Integration Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-6.html", "12.1 SLIDE 1", " 12.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-11.html", "12.2 Meeting Videos", " 12.2 Meeting Videos 12.2.1 Cohort 1 Meeting chat log LOG "],["tips-tricks.html", "Chapter 13 Tips &amp; Tricks", " Chapter 13 Tips &amp; Tricks Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-7.html", "13.1 SLIDE 1", " 13.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-12.html", "13.2 Meeting Videos", " 13.2 Meeting Videos 13.2.1 Cohort 1 Meeting chat log LOG "],["custom-outputs.html", "Chapter 14 Custom Outputs", " Chapter 14 Custom Outputs Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-8.html", "14.1 SLIDE 1", " 14.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-13.html", "14.2 Meeting Videos", " 14.2 Meeting Videos 14.2.1 Cohort 1 Meeting chat log LOG "],["custom-inputs.html", "Chapter 15 Custom Inputs", " Chapter 15 Custom Inputs Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-9.html", "15.1 SLIDE 1", " 15.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-14.html", "15.2 Meeting Videos", " 15.2 Meeting Videos 15.2.1 Cohort 1 Meeting chat log LOG "],["cookies.html", "Chapter 16 Cookies", " Chapter 16 Cookies Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-10.html", "16.1 SLIDE 1", " 16.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-15.html", "16.2 Meeting Videos", " 16.2 Meeting Videos 16.2.1 Cohort 1 Meeting chat log LOG "],["widgets-with-shiny.html", "Chapter 17 Widgets with Shiny", " Chapter 17 Widgets with Shiny Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-11.html", "17.1 SLIDE 1", " 17.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-16.html", "17.2 Meeting Videos", " 17.2 Meeting Videos 17.2.1 Cohort 1 Meeting chat log LOG "],["the-v8-engine.html", "Chapter 18 The V8 Engine", " Chapter 18 The V8 Engine Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-12.html", "18.1 SLIDE 1", " 18.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-17.html", "18.2 Meeting Videos", " 18.2 Meeting Videos 18.2.1 Cohort 1 Meeting chat log LOG "],["machine-learning.html", "Chapter 19 Machine Learning", " Chapter 19 Machine Learning Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-13.html", "19.1 SLIDE 1", " 19.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-18.html", "19.2 Meeting Videos", " 19.2 Meeting Videos 19.2.1 Cohort 1 Meeting chat log LOG "],["managing-javascript.html", "Chapter 20 Managing JavaScript", " Chapter 20 Managing JavaScript Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-14.html", "20.1 SLIDE 1", " 20.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-19.html", "20.2 Meeting Videos", " 20.2 Meeting Videos 20.2.1 Cohort 1 Meeting chat log LOG "],["discover-webpack-and-npm.html", "Chapter 21 Discover Webpack and NPM", " Chapter 21 Discover Webpack and NPM Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-15.html", "21.1 SLIDE 1", " 21.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-20.html", "21.2 Meeting Videos", " 21.2 Meeting Videos 21.2.1 Cohort 1 Meeting chat log LOG "],["webpack-with-r.html", "Chapter 22 Webpack with R", " Chapter 22 Webpack with R Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-16.html", "22.1 SLIDE 1", " 22.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-21.html", "22.2 Meeting Videos", " 22.2 Meeting Videos 22.2.1 Cohort 1 Meeting chat log LOG "],["webpack-advanced.html", "Chapter 23 Webpack Advanced", " Chapter 23 Webpack Advanced Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-17.html", "23.1 SLIDE 1", " 23.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-22.html", "23.2 Meeting Videos", " 23.2 Meeting Videos 23.2.1 Cohort 1 Meeting chat log LOG "],["conclusion.html", "Chapter 24 Conclusion", " Chapter 24 Conclusion Learning objectives: THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY "],["slide-1-18.html", "24.1 SLIDE 1", " 24.1 SLIDE 1 ADD SLIDES AS SECTIONS (##). TRY TO KEEP THEM RELATIVELY SLIDE-LIKE; THESE ARE NOTES, NOT THE BOOK ITSELF. "],["meeting-videos-23.html", "24.2 Meeting Videos", " 24.2 Meeting Videos 24.2.1 Cohort 1 Meeting chat log LOG "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
